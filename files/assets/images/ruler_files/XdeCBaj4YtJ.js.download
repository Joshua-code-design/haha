;/*FB_PKG_DELIM*/

__d("MWChatAnimatedImageVideoGIFControls.react",["VideoPlayerHooks","VideoPlayerInteractionOverlay.react","cr:10680","react","react-compiler-runtime","useVideoPlayerClickToPauseInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useEffect;function a(a){var e=d("react-compiler-runtime").c(12),f=a.onStateChange,g=(i||(i=d("VideoPlayerHooks"))).usePaused();a=c("useVideoPlayerClickToPauseInteraction")();a=a;var h;e[0]!==g?(h={forceVisible:g},e[0]=g,e[1]=h):h=e[1];h=b("cr:10680")(h);h=h.bigPlayButtonElement;var l,m;e[2]!==g||e[3]!==f?(l=function(){f(g)},m=[g,f],e[2]=g,e[3]=f,e[4]=l,e[5]=m):(l=e[4],m=e[5]);k(l,m);e[6]!==g||e[7]!==a?(l=!g&&j.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{pressInteraction:a}),e[6]=g,e[7]=a,e[8]=l):l=e[8];e[9]!==h||e[10]!==l?(m=j.jsxs(j.Fragment,{children:[l,h]}),e[9]=h,e[10]=l,e[11]=m):m=e[11];return m}g["default"]=a}),98);
__d("MWChatAnimatedImageVideoGIF.react",["CometPressable.react","CometPressableOverlay.react","CometProductAttribution","CometVideoPlayerLoggingConfigForMWChat","MWAnimatedImageControlsUtil","MWChatAnimatedImageVideoGIFControls.react","MWVideoPlayerControllerContext.react","VideoPlayerHooks","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useContext,l=b.useEffect,m=b.useState,n={link_context:null,navChainContent:null,rootName:"CometAnimatedImagePickerSearchResult.react",tap_point:"unexpected",tracePolicy:"comet.messenger.composer.gifs",trackingNodes:null};function o(a){a=a.children;var b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("MWVideoPlayerControllerContext.react"));l(function(){e.ref.current=b;return function(){e.ref.current=null}},[e,b]);return a}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(9),e=a.alt,f=a.data;a=a.onSend;var g=d("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting(),h;b[0]!==g?(h=d("MWAnimatedImageControlsUtil").getShouldEnableGIFPlayPause()&&g!==!0,b[0]=g,b[1]=h):h=b[1];var i=h;h=m(!0);var k=h[0],l=h[1];if(d("MWAnimatedImageControlsUtil").getShouldEnableGIFPlayPause()&&g==null)return null;h=k?a:void 0;b[2]!==e||b[3]!==f||b[4]!==i?(g=function(a){var b=a.focusVisible,g=a.hovered;a=a.pressed;return j.jsxs(j.Fragment,{children:[j.jsx(c("CometPressableOverlay.react"),{focusRingPosition:"inset",focusVisible:b,hovered:g,pressed:a,showFocusRing:!0}),j.jsx(c("VideoPlayerX.react"),{alt:e,canAutoplay:i?"deny":"allow",implementations:[{Component:c("VideoPlayerProgressiveImplementationV2.react"),data:f,typename:"VideoPlayerProgressiveImplementation"}],loggingConfig:d("CometVideoPlayerLoggingConfigForMWChat").createCometVideoPlayerLoggingConfigForMWChat(),loopCount:-1,playerOriginOverride:"messenger_gif",portalingEnabled:!1,productAttribution:{v2:[d("CometProductAttribution").getProductAttributionEntryV2(n)]},subOrigin:"messenger_thread",videoFBID:"",volumeSetting:0,children:j.jsx(c("VideoPlayerSurface.react"),{children:i&&j.jsx(o,{children:j.jsx(c("MWChatAnimatedImageVideoGIFControls.react"),{onStateChange:l})})})})]})},b[2]=e,b[3]=f,b[4]=i,b[5]=g):g=b[5];b[6]!==h||b[7]!==g?(k=j.jsx(c("CometPressable.react"),{onPress:h,overlayDisabled:!0,suppressFocusRing:!0,testid:void 0,children:g}),b[6]=h,b[7]=g,b[8]=k):k=b[8];return k}g["default"]=a}),98);
__d("CometAnimatedImagePickerSearchResult.react",["fbt","CometImage.react","CometPressable.react","CometPressableOverlay.react","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWChatAnimatedImageVideoGIF.react","VideoPlayerProgressiveImplementationData","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useState,l=c("gkx")("23009");function a(a){var b=d("react-compiler-runtime").c(21),e=a.desiredWidth,f=a.image,g=a.isVideoGIF,i=a.onSelect;a=g===void 0?!1:g;g=d("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting();var m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=d("MWAnimatedImageControlsUtil").getShouldEnableGIFPlayPause(),b[0]=m):m=b[0];m=m;m=m&&g!==!0;g=k(!1);var n=g[0],o=g[1];b[1]!==f||b[2]!==i?(g=function(a){a.preventDefault(),i(f)},b[1]=f,b[2]=i,b[3]=g):g=b[3];g=g;var p=f.source.width,q=f.source.height,r=e/p;b[4]!==f.media?(p=l&&f.media.preview.label!=null?f.media.preview.label:h._(/*BTDS*/"GIF"),b[4]=f.media,b[5]=p):p=b[5];var s=p;b[6]!==f.media||b[7]!==a?(p=a&&c("gkx")("8729")?d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:null,hdSrcPreferred:!1,sdSrc:f.media.preview.url}):null,b[6]=f.media,b[7]=a,b[8]=p):p=b[8];p=p;var t;b[9]!==s||b[10]!==p||b[11]!==e||b[12]!==m||b[13]!==f.media||b[14]!==f.source.url||b[15]!==n||b[16]!==a||b[17]!==r||b[18]!==g||b[19]!==q?(t=j.jsx(j.Fragment,{children:a&&!(p instanceof Error)&&p!=null?j.jsx(c("MWChatAnimatedImageVideoGIF.react"),{alt:s.toString(),data:p,onSend:g},f.media.preview.url):j.jsx(j.Fragment,{children:m&&n===!1?j.jsx(d("MWAnimatedImageThumbnailWithPlayButton.react").MWAnimatedImageThumbnailWithPlayButton,{altText:s.toString(),connectBottom:!1,connectTop:!1,dbAttachment:null,entryPoint:d("MWAnimatedImageThumbnailWithPlayButton.react").AnimatedImageEntryPoint.GIFPicker,mediaRenderQpl:null,message:null,onPlay:function(){return o(!0)},onPress:g,outgoing:!1,previewHeight:q*r,previewWidth:e,sourceURL:f.source.url}):j.jsx(c("CometPressable.react"),{"aria-label":m===!0?h._(/*BTDS*/"Pause GIF"):h._(/*BTDS*/"Send GIF"),hideHoverOverlay:!0,onPress:m===!1?g:function(){return o(!1)},overlayDisabled:!0,suppressFocusRing:!0,testid:void 0,children:function(a){var b=a.focusVisible,d=a.hovered;a=a.pressed;return j.jsxs(j.Fragment,{children:[j.jsx(c("CometPressableOverlay.react"),{focusRingPosition:"inset",focusVisible:b,hovered:d,pressed:a,showFocusRing:!0}),j.jsx(c("CometImage.react"),{alt:s,height:q*r,src:f.source.url,width:e})]})}})})}),b[9]=s,b[10]=p,b[11]=e,b[12]=m,b[13]=f.media,b[14]=f.source.url,b[15]=n,b[16]=a,b[17]=r,b[18]=g,b[19]=q,b[20]=t):t=b[20];return t}g["default"]=a}),226);
__d("CometAnimatedImagePickerSearchResultsColumns.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),c=a.cells,e=a.numOfColumns,f=a.totalWidth,g=e>0?e:1,h;if(b[0]!==c||b[1]!==g){h=Array.from(Array(g),j);var k=Array(g).fill(0);c.forEach(function(a){if(a!=null){var b=k.indexOf(Math.min.apply(Math,k));h[b].push(a.element);k[b]=k[b]+a.height}});b[0]=c;b[1]=g;b[2]=h}else h=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a="x78zum5",b[3]=a):a=b[3];b[4]!==f?(e={width:f},b[4]=f,b[5]=e):e=b[5];b[6]!==h||b[7]!==g||b[8]!==f?(c=h.map(function(a,b){return i.jsx("div",{className:"x78zum5 xdt5ytf",style:{width:Math.floor(f/g)},children:a},b)}),b[6]=h,b[7]=g,b[8]=f,b[9]=c):c=b[9];b[10]!==e||b[11]!==c?(a=i.jsx("div",{className:a,style:e,children:c}),b[10]=e,b[11]=c,b[12]=a):a=b[12];return a}function j(){return[]}g["default"]=a}),98);
__d("CometAnimatedImagePickerSearchResults_results.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"size_bytes",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"duration_ms",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometAnimatedImagePickerSearchResults_results",selections:[{alias:null,args:null,concreteType:"MessengerPlatformResultGroup",kind:"LinkedField",name:"result_group",plural:!0,selections:[{alias:null,args:null,concreteType:"MessengerPlatformResult",kind:"LinkedField",name:"results",plural:!0,selections:[{alias:null,args:null,concreteType:"MessengerPlatformSourceMedia",kind:"LinkedField",name:"source",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mime_type",storageKey:null},a,b,c,d,e,{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gif_source",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerPlatformMedia",kind:"LinkedField",name:"media",plural:!0,selections:[a,b,c,d,e,{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"result_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"result_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"app_fbid",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"result_next_cursor",storageKey:null}],type:"MessengerPlatformResponse",abstractKey:null}}();e.exports=a}),null);
__d("CometAnimatedImagePickerSearchResults.react",["fbt","CometAnimatedImagePickerSearchResult.react","CometAnimatedImagePickerSearchResultsColumns.react","CometAnimatedImagePickerSearchResults_results.graphql","CometPickerNullState.react","CometPickerScrollableArea.react","CometRelay","NullStateMedia","getJSEnumSafe","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useState,m=5;function a(a){var e,f,g=d("react-compiler-runtime").c(20),j=a.desiredWidth,o=a.onSelect,p=a.results,q=a.scrollKey,r=a.twoColumns;a=a.xstyle;p=d("CometRelay").useFragment(i!==void 0?i:i=b("CometAnimatedImagePickerSearchResults_results.graphql"),p);var s=(e=p==null?void 0:(e=p.result_group)==null?void 0:(e=e[0])==null?void 0:e.results.length)!=null?e:0;e=l(m);var t=e[0],u=e[1];g[0]!==s?(e=function(){return u(function(a){return Math.min(a+m,s)})},g[0]=s,g[1]=e):e=g[1];e=e;f=p==null?void 0:(f=p.result_group[0])==null?void 0:(f=f.results[0])==null?void 0:f.result_id;var v=l(null),w=v[0];v=v[1];w!==f&&(v(f),u(m));var x;if(g[2]!==j||g[3]!==t||g[4]!==o||g[5]!==p||g[6]!==r){w=Symbol["for"]("react.early_return_sentinel");bb0:{var y={ANIMATION:1,PHOTO:0,REEL:4,STICKER:3,VIDEO:2};if(!p||!p.result_group||p.result_group.length===0||!p.result_group[0]){g[9]===Symbol["for"]("react.memo_cache_sentinel")?(v=k.jsx(c("CometPickerNullState.react"),{body:h._(/*BTDS*/"No GIFs to show"),icon:c("NullStateMedia")}),g[9]=v):v=g[9];w=v;break bb0}f=p.result_group[0].results;var z=p.result_next_cursor;x=f.map(function(a,b){var d,e=a.media[0],f=a.source;if(e==null||f==null)return;if(b>t)return null;e={preview:{durationMs:(b=e.duration_ms)!=null?b:0,height:(b=e.height)!=null?b:0,label:(b=e.label)!=null?b:null,sizeBytes:(b=e.size_bytes)!=null?b:0,url:(b=f.url)!=null?b:"",width:(b=e.width)!=null?b:0}};f={durationMs:(b=f.duration_ms)!=null?b:0,gifSource:(b=f.gif_source)!=null?b:null,height:(b=f.height)!=null?b:0,mimeType:(b=f.mime_type)!=null?b:"",sizeBytes:(b=f.size_bytes)!=null?b:0,tags:(b=f.tags)!=null?b:null,title:(b=f.title)!=null?b:"",url:(b=f.url)!=null?b:"",width:(b=f.width)!=null?b:0};b=(b=a.result_type)!=null?b:"ANIMATION";var g=r?j/2:j;return{element:k.jsx(c("CometAnimatedImagePickerSearchResult.react"),{desiredWidth:g,image:{cursor:(d=z)!=null?d:"",media:e,platformFBID:(d=a.app_fbid)!=null?d:"",resultID:(e=a.result_id)!=null?e:"",source:f,type:(d=c("getJSEnumSafe")(y,b))!=null?d:1},onSelect:o},(e=a.result_id)!=null?e:void 0),height:f.height*(g/f.width)}})}g[2]=j;g[3]=t;g[4]=o;g[5]=p;g[6]=r;g[7]=x;g[8]=w}else x=g[7],w=g[8];if(w!==Symbol["for"]("react.early_return_sentinel"))return w;v=x;if(r){g[10]!==j||g[11]!==v?(f=k.jsx(c("CometAnimatedImagePickerSearchResultsColumns.react"),{cells:v,numOfColumns:2,totalWidth:j}),g[10]=j,g[11]=v,g[12]=f):f=g[12];p=f}else{g[13]!==v?(w=v.map(n),g[13]=v,g[14]=w):w=g[14];p=w}g[15]!==e||g[16]!==p||g[17]!==q||g[18]!==a?(f=k.jsx(c("CometPickerScrollableArea.react"),{horizontal:!1,onScrollBottom:e,scrollKey:q,xstyle:a,children:p}),g[15]=e,g[16]=p,g[17]=q,g[18]=a,g[19]=f):f=g[19];return f}function n(a){return a==null?void 0:a.element}g["default"]=a}),226);
__d("CometAnimatedImagePickerSearchResultsRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29125515663758656"}),null);
__d("CometAnimatedImagePickerSearchResultsRootQuery.graphql",["CometAnimatedImagePickerSearchResultsRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"media_height"},c={defaultValue:null,kind:"LocalArgument",name:"media_width"},d={defaultValue:null,kind:"LocalArgument",name:"query_type"},e={defaultValue:null,kind:"LocalArgument",name:"result_types"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"search_interface"},h={defaultValue:null,kind:"LocalArgument",name:"search_query"},i=[{kind:"Literal",name:"count",value:40},{kind:"Variable",name:"media_height",variableName:"media_height"},{kind:"Variable",name:"media_scale",variableName:"scale"},{kind:"Variable",name:"media_width",variableName:"media_width"},{kind:"Variable",name:"query",variableName:"search_query"},{kind:"Variable",name:"query_type",variableName:"query_type"},{kind:"Variable",name:"result_types",variableName:"result_types"},{kind:"Variable",name:"search_interface",variableName:"search_interface"}],j={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"size_bytes",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"duration_ms",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"CometAnimatedImagePickerSearchResultsRootQuery",selections:[{alias:null,args:i,concreteType:"MessengerPlatformResponse",kind:"LinkedField",name:"comet_external_media",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometAnimatedImagePickerSearchResults_results"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,e,h,c,a,f,g],kind:"Operation",name:"CometAnimatedImagePickerSearchResultsRootQuery",selections:[{alias:null,args:i,concreteType:"MessengerPlatformResponse",kind:"LinkedField",name:"comet_external_media",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerPlatformResultGroup",kind:"LinkedField",name:"result_group",plural:!0,selections:[{alias:null,args:null,concreteType:"MessengerPlatformResult",kind:"LinkedField",name:"results",plural:!0,selections:[{alias:null,args:null,concreteType:"MessengerPlatformSourceMedia",kind:"LinkedField",name:"source",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mime_type",storageKey:null},j,k,l,m,n,{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gif_source",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerPlatformMedia",kind:"LinkedField",name:"media",plural:!0,selections:[j,k,l,m,n,{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"result_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"result_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"app_fbid",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"result_next_cursor",storageKey:null}],storageKey:null}]},params:{id:b("CometAnimatedImagePickerSearchResultsRootQuery_facebookRelayOperation"),metadata:{},name:"CometAnimatedImagePickerSearchResultsRootQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometAnimatedImagePickerSearchResultsRoot.react",["CometAnimatedImagePickerSearchResults.react","CometAnimatedImagePickerSearchResultsRootQuery.graphql","CometErrorBoundary.react","CometRelay","WebPixelRatio","react","react-compiler-runtime","useInvalidNumberThrowsViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));i.useMemo;function k(a){var e=d("react-compiler-runtime").c(15),f=a.mediaHeight,g=a.mediaWidth,i=a.onSelect,k=a.searchInterface,l=a.searchQuery,m=a.twoColumns;a=a.xstyle;k=k===void 0?"FB_INTERFACE":k;c("useInvalidNumberThrowsViolation")(g);var n=l===""?"TRENDING":"SEARCH",o,p;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=["ANIMATION"],p=d("WebPixelRatio").get(),e[0]=o,e[1]=p):(o=e[0],p=e[1]);e[2]!==f||e[3]!==g||e[4]!==k||e[5]!==l||e[6]!==n?(o={media_height:f,media_width:g,query_type:n,result_types:o,scale:p,search_interface:k,search_query:l},e[2]=f,e[3]=g,e[4]=k,e[5]=l,e[6]=n,e[7]=o):o=e[7];p=o;f=p;g=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("CometAnimatedImagePickerSearchResultsRootQuery.graphql"),f);if(g.comet_external_media==null)return null;e[8]!==g.comet_external_media||e[9]!==i||e[10]!==l||e[11]!==m||e[12]!==f.media_width||e[13]!==a?(k=j.jsx(c("CometAnimatedImagePickerSearchResults.react"),{desiredWidth:f.media_width,onSelect:i,results:g.comet_external_media,scrollKey:l,twoColumns:m,xstyle:a}),e[8]=g.comet_external_media,e[9]=i,e[10]=l,e[11]=m,e[12]=f.media_width,e[13]=a,e[14]=k):k=e[14];return k}function a(a){return j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(k,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAnimatedImagePickerCard.react",["CometAnimatedImagePickerSearchResultsRoot.react","react","react-compiler-runtime","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),e=a.mediaHeight,f=a.mediaWidth,g=a.onSelect,h=a.searchQuery,j=a.twoColumns;a=a.xstyle;j=j===void 0?!1:j;h=c("useDebouncedValue")(h,200);var k;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==j||b[5]!==a?(k=i.jsx(c("CometAnimatedImagePickerSearchResultsRoot.react"),{mediaHeight:e,mediaWidth:f,onSelect:g,searchQuery:h,twoColumns:j,xstyle:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=j,b[5]=a,b[6]=k):k=b[6];return k}g["default"]=a}),98);
__d("CometPickerBasicStackingLayout.react",["CometColumn.react","CometColumnItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.children,f=a.expanding,g=a.testid;a=a.xstyle;var h=e.content,j=e.footer;e=e.header;var k;b[0]!==e?(k=i.jsx(c("CometColumnItem.react"),{children:e}),b[0]=e,b[1]=k):k=b[1];b[2]!==h?(e=i.jsx(c("CometColumnItem.react"),{expanding:!0,children:h}),b[2]=h,b[3]=e):e=b[3];b[4]!==j?(h=i.jsx(c("CometColumnItem.react"),{children:j}),b[4]=j,b[5]=h):h=b[5];b[6]!==f||b[7]!==k||b[8]!==e||b[9]!==h||b[10]!==g||b[11]!==a?(j=i.jsxs(c("CometColumn.react"),{expanding:f,testid:void 0,xstyle:a,children:[k,e,h]}),b[6]=f,b[7]=k,b[8]=e,b[9]=h,b[10]=g,b[11]=a,b[12]=j):j=b[12];return j}g["default"]=a}),98);
__d("CometStickerPickerAvatarStickersContentRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24496254979962836"}),null);
__d("MWChatAnimatedImageFlyout.react",["fbt","BaseContextualLayerAvailableHeightContext","CometAnimatedImagePickerCard.react","CometColumn.react","CometColumnItem.react","CometComponentWithKeyCommands.react","CometErrorBoundary.react","CometHeroInteractionWithDiv.react","CometKeys","CometPickerBasicStackingLayout.react","CometPlaceholder.react","FDSProgressRingIndeterminate.react","FocusRegion.react","MWXCircleButton.react","MWXIconCross","MWXIconMagnifyingGlass","MWXIconStrict.react","MWXLink.react","MWXRoundedTextInput.react","MessengerWebUXLogger","cr:9505","focusScopeQueries","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useContext,m=e.useState,n=c("gkx")("22681"),o=274,p={container:{height:"x1hie0zf",width:"xlro9se",$$css:!0},maxHeight:function(a){return[{maxHeight:a==null?null:"x1kb659o",$$css:!0},{"--maxHeight":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},scrollableAreaForIE11:{maxHeight:"xuyqlj2",$$css:!0},searchWrapper:{paddingTop:"x1y1aw1k",paddingEnd:"x1pi30zi",paddingBottom:"xwib8y2",paddingStart:"x1swvt13",$$css:!0}},q="GIF";function a(a){var e=d("react-compiler-runtime").c(36),f=a.interactionUUID,g=a.isSecureThread,j=a.onClose,s=a.onSelect;a=a.testid;g=g===void 0?!1:g;var t=l(c("BaseContextualLayerAvailableHeightContext")),u=c("MessengerWebUXLogger").useInteractionLogger(),v;e[0]!==u||e[1]!==j||e[2]!==s?(v=function(a){j(),s(a),u==null?void 0:u({eventName:"composer_send_gif"})},e[0]=u,e[1]=j,e[2]=s,e[3]=v):v=e[3];v=v;var w=m(""),x=w[0],y=w[1];e[4]===Symbol["for"]("react.memo_cache_sentinel")?(w=k.jsx(c("MWXLink.react"),{href:"https://facebook.com/settings/cookie",target:"_blank",children:h._(/*BTDS*/"3rd party cookies")}),e[4]=w):w=e[4];w=w;var z;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(z=function(a){a.target.value!==void 0&&y(a.target.value)},e[5]=z):z=e[5];z=z;var A;e[6]===Symbol["for"]("react.memo_cache_sentinel")?(A=[{command:{key:c("CometKeys").ENTER},description:h._(/*BTDS*/"{attachment_type} search",[h._param("attachment_type",q)]),handler:r,triggerFromInputs:!0}],e[6]=A):A=e[6];A=A;var B;e[7]!==t?(B=(i||(i=c("stylex"))).props([t!=null&&p.maxHeight(t)]),e[7]=t,e[8]=B):B=e[8];e[9]===Symbol["for"]("react.memo_cache_sentinel")?(t=k.jsx(c("CometColumn.react"),{align:"center",expanding:!0,verticalAlign:"center",children:k.jsx(c("CometColumnItem.react"),{children:k.jsx(c("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:24})})}),e[9]=t):t=e[9];e[10]!==g||e[11]!==v||e[12]!==x?(w=g?b("cr:9505")&&k.jsx(b("cr:9505"),{cookieContentForm:w,mediaWidth:o,onSelect:v,searchQuery:x,xstyle:n&&p.scrollableAreaForIE11}):k.jsx(c("CometAnimatedImagePickerCard.react"),{mediaHeight:o,mediaWidth:o,onSelect:v,searchQuery:x,xstyle:n&&p.scrollableAreaForIE11}),e[10]=g,e[11]=v,e[12]=x,e[13]=w):w=e[13];e[14]!==w?(g=k.jsx(c("CometPlaceholder.react"),{fallback:t,name:"MWChatAnimatedImageFlyout",children:w},1),e[14]=w,e[15]=g):g=e[15];e[16]!==x.length?(v=x.length!==0?k.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:h._(/*BTDS*/"Clear search"),onPress:function(){return y("")},size:24}):void 0,e[16]=x.length,e[17]=v):v=e[17];e[18]===Symbol["for"]("react.memo_cache_sentinel")?(t=k.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconMagnifyingGlass"),size:20}),w=h._(/*BTDS*/"{attachment type} search",[h._param("attachment type",q)]),e[18]=t,e[19]=w):(t=e[18],w=e[19]);var C;e[20]===Symbol["for"]("react.memo_cache_sentinel")?(C=h._(/*BTDS*/"Search"),e[20]=C):C=e[20];x=(x=x)!=null?x:"";e[21]!==v||e[22]!==x?(A=k.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:A,xstyle:p.searchWrapper,children:k.jsx(c("MWXRoundedTextInput.react"),{addOnEnd:v,"aria-expanded":!1,autoComplete:"off",icon:t,label:w,onChange:z,placeholder:C,role:"combobox",spellCheck:!1,type:"text",value:x})})}),e[21]=v,e[22]=x,e[23]=A):A=e[23];e[24]!==A||e[25]!==g?(t={content:g,header:A},e[24]=A,e[25]=g,e[26]=t):t=e[26];e[27]!==t||e[28]!==a?(w=k.jsx(c("CometPickerBasicStackingLayout.react"),{testid:void 0,xstyle:p.container,children:t}),e[27]=t,e[28]=a,e[29]=w):w=e[29];e[30]!==w||e[31]!==B?(z=k.jsx("div",babelHelpers["extends"]({},B,{children:w})),e[30]=w,e[31]=B,e[32]=z):z=e[32];e[33]!==f||e[34]!==z?(C=k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"Comet initial load for Gifs",interactionUUID:f,children:z})}),e[33]=f,e[34]=z,e[35]=C):C=e[35];return C}function r(){}g["default"]=a}),226);
__d("MWChatAnimatedImageFlyoutWithPopover.react",["fbt","MWChatAnimatedImageFlyout.react","MWXPopover.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){return j.jsx(c("MWXPopover.react"),{"aria-label":h._(/*BTDS*/"Choose a gif"),withArrow:!0,children:j.jsx(c("MWChatAnimatedImageFlyout.react"),babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatComposerP2PPopoverQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9486804414749601"}),null);
__d("MWPAnimatedImageFlyoutRoot.react",["fbt","CometAnimatedImagePickerSearchResult.react","CometPickerNullState.react","CometPickerScrollableArea.react","CookieConsent","NullStateMedia","NullStatePermissions","gkx","promiseDone","react","react-compiler-runtime","useDebouncedValue"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect,m=b.useState,n=5,o=40,p="GXAMGSNCXJGN",q="374882289330575",r="US",s="moderate",t="true",u="en_US";function v(a,b){var c=a.length>0?"search":"trending";a={fbcountry:r,key:p,limit:n.toString(),locale:u,searchsearch:s,ssl:t,tag:(a=a)!=null?a:""};b>0&&(a.pos=b.toString());b=Object.entries(a).map(function(a){var b=a[0];a=a[1];return encodeURIComponent(b)+"="+encodeURIComponent(a)}).join("&");a="https://api1.tenor.co/v1/"+c+"?"+b;return window.fetch(a).then(function(a){return a.json()})}function w(a,b){var d,e,f,g,h,i,j,k,l;b===void 0&&(b="");d=(d=a.id)!=null?d:"";e=(e=(e=a.media)==null?void 0:e[0])!=null?e:{};var m="image/gif";f=(f=e.gif)!=null?f:{};e=(e=e.mp4)!=null?e:{};g=(g=f.size)!=null?g:0;h=(h=e.size)!=null?h:0;var n=a.content_description;i=(i=f.dims)!=null?i:[0,0];var o=i[0];i=i[1];j=(j=e.dims)!=null?j:[0,0];var p=j[0];j=j[1];k=(k=f.duration)!=null?k:0;l=(l=e.duration)!=null?l:0;if(!Boolean(f)||!Boolean(f.url)||!Boolean(o)||!Boolean(i))return null;l=c("gkx")("8729")?{durationMs:(l=l)!=null?l:k,height:(l=j)!=null?l:i,label:n,sizeBytes:(j=h)!=null?j:g,url:(h=(l=e.url)!=null?l:f.preview)!=null?h:"",width:(j=p)!=null?j:o}:{durationMs:k,height:i,label:n,sizeBytes:g,url:(e=f.preview)!=null?e:"",width:o};return{cursor:b,media:{preview:l},platformFBID:q,resultID:d,source:{durationMs:k,gifSource:"TENOR",height:i,mimeType:m,sizeBytes:g,tags:a.tags,title:(h=a.title)!=null?h:"",url:(p=f.url)!=null?p:"",width:o},type:1}}function x(){return y}function y(a){var b=a.cursor,d=a.debouncedSearchQuery,e=a.results,f=a.setCursor,g=a.setResults;a=v(d,b);c("promiseDone")(a,function(a){var b=a.results.map(function(a){return w(a,d)}).filter(Boolean);g(e.concat(b));f(a.next)})}function a(a){var b=d("react-compiler-runtime").c(29),e=a.cookieContentForm,f=a.mediaWidth,g=a.onSelect,j=a.searchQuery;a=a.xstyle;if(b[0]!==j){var n;n=(n=j.trim())!=null?n:"";b[0]=j;b[1]=n}else n=b[1];var p=c("useDebouncedValue")(n,200),q=x();n=m(0);var r=n[0],s=n[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(n=[],b[2]=n):n=b[2];n=m(n);var t=n[0],u=n[1],v;b[3]!==p||b[4]!==q?(n=function(){q({cursor:0,debouncedSearchQuery:p,results:[],setCursor:s,setResults:u})},v=[p,q],b[3]=p,b[4]=q,b[5]=n,b[6]=v):(n=b[5],v=b[6]);l(n,v);n=(i||(i=c("CookieConsent"))).hasThirdPartyConsent(["tenor_api"]).get("tenor_api");if(!Boolean(t)||t.length===0)if(n!==!0){b[7]!==e?(v=h._(/*BTDS*/"To Enable GIFs, please consent to {3rd party cookies} in your privacy settings.",[h._param("3rd party cookies",e)]),b[7]=e,b[8]=v):v=b[8];b[9]!==v?(n=k.jsx(c("CometPickerNullState.react"),{body:v,icon:c("NullStatePermissions")}),b[9]=v,b[10]=n):n=b[10];return n}else{b[11]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("CometPickerNullState.react"),{body:h._(/*BTDS*/"No GIFs to show"),icon:c("NullStateMedia")}),b[11]=e):e=b[11];return e}if(b[12]!==f||b[13]!==g||b[14]!==t){b[16]!==f||b[17]!==g?(v=function(a){return k.jsx(c("CometAnimatedImagePickerSearchResult.react"),{desiredWidth:f,image:a,isVideoGIF:c("gkx")("8729"),onSelect:g},a.resultID)},b[16]=f,b[17]=g,b[18]=v):v=b[18];n=t.map(v);b[12]=f;b[13]=g;b[14]=t;b[15]=n}else n=b[15];e=n;b[19]!==r||b[20]!==p||b[21]!==q||b[22]!==t?(v=function(){t.length<o&&q({cursor:r,debouncedSearchQuery:p,results:t,setCursor:s,setResults:u})},b[19]=r,b[20]=p,b[21]=q,b[22]=t,b[23]=v):v=b[23];b[24]!==e||b[25]!==j||b[26]!==v||b[27]!==a?(n=k.jsx(c("CometPickerScrollableArea.react"),{horizontal:!1,onScrollBottom:v,scrollKey:j,xstyle:a,children:e}),b[24]=e,b[25]=j,b[26]=v,b[27]=a,b[28]=n):n=b[28];return n}g["default"]=a}),226);